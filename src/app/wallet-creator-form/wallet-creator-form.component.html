<div>
  <section class="max-w-4xl mx-auto bg-dark-blue text-white p-4">
    <div class="mt-6">
      <div class="text-center mb-6">
        <header>
          <h1 class="text-3xl font-primary">Create an Escrow Wallet Account</h1>
        </header>
      </div>
      <form [formGroup]="registrationForm" (ngSubmit)="onSubmit()"
        class="w-full sm:w-3/4 md:w-96 l:w-96 xl:w-96 mx-auto flex flex-col">
        <!-- First name field -->
        <div class="flex flex-col">
          <label for="firstname" class="mt-4 mb-1 font-audiowide font-thin font-xs indent-1 font-bold text-white">First
            Name</label>
          <!-- First name input -->
          <input formControlName="firstName" name="firstName" type="text"
            class="w-full p-3 bg-dark-blue text-white rounded-full border border-white focus: outline-none focus:border-turquoise">
        </div>
        <!-- Validate first name -->
        <div class="mt-1 text-sm text-orange" slot="error"
          *ngIf="(f['firstName'].dirty || f['firstName'].touched) && f['firstName'].hasError">
          <p *ngIf="f['firstName'].errors?.['required'] && f['firstName']">First Name Is Required</p>
          <p *ngIf="f['firstName'].errors?.['minlength']">
            First Name Must Be At Least 2 Characters
          </p>
        </div>
        <!-- Last name field -->
        <div class="flex flex-col">
          <label for="lastname" class="mt-4 mb-1 font-audiowide font-thin font-xs indent-1 font-bold text-white">Last
            Name</label>
          <!-- Last name input -->
          <input formControlName="lastName" name="lastName" type="text"
            class="w-full p-3 bg-dark-blue text-white rounded-full border border-white focus: outline-none focus:border-turquoise">
        </div>
        <!-- Validate last name -->
        <div class="mt-1 text-sm text-orange" slot="error"
          *ngIf="(f['lastName'].dirty || f['lastName'].touched) && f['lastName'].hasError">
          <p *ngIf="f['lastName'].errors?.['required']">Last Name Is Required</p>
          <p *ngIf="f['lastName'].errors?.['minlength']">
            Last Name Must Be At Least 2 Characters
          </p>
        </div>
        <!-- Mobile number field -->
        <div class="flex flex-col">
          <label for="mobile"
            class="mt-4 mb-1 font-audiowide font-thin font-xs indent-1 font-bold text-white">Mobile</label>
          <div class="flex items-center bg-dark-blue rounded-full border border-white focus-within:border-turquoise">
            <!-- Custom dropdown UI -->
            <div class="relative w-18"> <!-- Adjusted width for dial code entry -->
              <!-- Displayed value -->
              <div class="flex items-center p-3 appearance-none text-white bg-transparent cursor-pointer"
                (click)="toggleDropdown()">
                {{selectedCountry.flag}} {{selectedCountry.code}}
              </div>
              <!-- Pop-up modal for countries -->
              <div *ngIf="showDropdown" class="fixed inset-0 flex items-center justify-center z-20">
                <div class="absolute inset-0 bg-black opacity-50" (click)="toggleDropdown()"></div>
                <!-- Modal content -->
                <div class="bg-dark-blue rounded-lg shadow-lg z-30 py-4 px-6 w-1/2 md:w-1/2 max-h-80 overflow-y-auto">
                  <div *ngFor="let country of countries" class="cursor-pointer bg-gray-700 p-3"
                    (click)="selectCountry(country)">
                    {{country.flag}} {{country.country}} ({{country.code}})
                  </div>
                </div>
              </div>
            </div>
            <!-- Mobile number input -->
            <input formControlName="mobile" name="mobile" id="phone" type="tel"
              class="flex-grow p-3 bg-dark-blue text-white rounded-r-full rounded-l-none border-l border-white focus:outline-none">
          </div>
        </div>
        <!-- Validate mobile number -->
        <div class="mt-1 text-sm text-orange" slot="error" *ngIf="f['mobile'].touched && f['mobile'].hasError">
          <p *ngIf="f['mobile'].errors?.['required']">Phone is required.</p>
          <p *ngIf="!f['mobile'].errors?.['required'] && f['mobile'].errors?.['pattern']">Phone is not valid.
          </p>
        </div>
        <!-- Pin field -->
        <div class="flex flex-col">
          <label for="pin" class="mt-4 mb-1 font-audiowide font-thin font-xs indent-1 font-bold text-white">Pin</label>
          <!-- Pin input -->
          <input type="password" formControlName="pin" name="pin" minlength="4" maxlength="10"
            class="w-full p-3 bg-dark-blue text-white rounded-full border border-white focus:outline-none focus:border-turquoise">
        </div>
        <!-- Validate pin -->
        <div class="mt-1 text-sm text-orange" slot="error"
          *ngIf="(f['pin'].dirty || f['pin'].touched) && f['pin'].hasError">
          <p *ngIf="f['pin'].errors?.['required']">PIN Is Required</p>
          <p *ngIf="f['pin'].errors?.['minlength']">
            A Minimum Of 4 Digits Is Required
          </p>
          <p *ngIf="f['pin'].errors?.['maxlength']">
            Your PIN Can Only Be Up To 10 Characters
          </p>
          <p *ngIf="f['pin'].errors?.['pattern']">
            Your PIN Can Only Contain Numeric Values
          </p>
        </div>
        <!-- Confirm pin field -->
        <div class="flex flex-col">
          <label for="password" class="mt-4 mb-1 font-audiowide font-thin font-xs indent-1 font-bold text-white">Confirm
            Pin</label>
          <!-- Confirm pin input -->
          <input type="password" formControlName="confirmPin" name="confirmPin" minlength="4" maxlength="10"
            class="w-full p-3 bg-dark-blue text-white rounded-full border border-white focus:outline-none focus:border-turquoise">
        </div>
        <!-- Validate confirm pin -->
        <div class="mt-1 text-sm text-orange" slot="error"
          *ngIf="(f['confirmPin'].dirty || f['confirmPin'].touched) &&  f['confirmPin'].hasError">
          <p *ngIf="f['confirmPin'].errors?.['required']">
            Pin Confirmation is required
          </p>
          <p *ngIf="!f['confirmPin'].errors?.['required'] && f['confirmPin'].errors?.['mismatch']">
            Pin does not match
          </p>
        </div>
        <!-- Button -->
        <div class="flex gap-x-2 mt-6">
          <button type="submit"
            class="flex justify-center items-center w-full h-14 md:h-12 text-white font-light font-audiowide bg-orange py-2 px-8 rounded-full hover:bg-opacity-80"
            (click)="onSubmit()">CREATE
            ACCOUNT</button>
          <button type="button"
            class="flex justify-center items-center h-14 md:h-12 text-orange font-light font-audiowide bg-dark-blue py-2 px-8 rounded-full outline outline-2 outline-orange hover:bg-light-blue"
            (click)="clearForm()">CLEAR</button>
        </div>
      </form>
    </div>
  </section>
</div>